White Wine Quality Data Analysis Project by Yang Liu
========================================================

```{r echo=FALSE, message=FALSE, warning=FALSE, packages}
# Load all of the packages that you end up using in your analysis in this code
# chunk.

# Notice that the parameter "echo" was set to FALSE for this code chunk. This
# prevents the code from displaying in the knitted HTML output. You should set
# echo=FALSE for all code chunks in your file, unless it makes sense for your
# report to show the code that generated a particular plot.

# The other parameters for "message" and "warning" should also be set to FALSE
# for other code chunks once you have verified that each plot comes out as you
# want it to. This will clean up the flow of your report.

library(ggplot2)
library(GGally)
library(RColorBrewer)
library(reshape)
library(gridExtra)
```

## Abstract
In this project, I have chosen to explore and analyze the white wine quality
dataset. This dataset contains 4898 white wines with 11 variables on qualifying
different attributes. An output variable is also given in the dataset which is
the rating of each wine between 0 and 10. In this project, I will analyze the
realations between the wine attributes and ratings, and I will explore if there
is any strong relationship between the different attributes of the wines.

## Dataset
In this section, I have loaded the data and the variable names are shown in the
below. 
```{r echo=FALSE, Load_the_Data}
# Load the Data
wine <- read.csv('wineQualityWhites.csv')
names(wine)

```
Now let's see the structure of the variables:
```{r echo=FALSE, structure}
str(wine)

```
We can find there is an X variable there, which is just the indices of wines.
Since there is the no missing data in this dataset, I just simply showed the 
summary for each variable in the below.

```{r echo=FALSE, summary}
summary(wine[2:13])

```

## Univariate Plots Section

In this section, I will plot several histograms to explore the count 
distributionsof wines for different variables. 

First let's take a look at the ratings of the wines.
```{r echo=FALSE, warning = FALSE, message=FALSE, Ratings}
ggplot(aes(x = quality), data = wine) + geom_histogram(binwidth = 0.5)

```

We can find the ratings of the wines follow a normal distribution with center at
6, which shows most of wines got ratings at 5 and 6.

```{r echo=FALSE, warning = FALSE, message=FALSE, alcohol}
ggplot(aes(x = alcohol), data = wine) + geom_histogram(binwidth = .25)

```

Let's take a look at the alcohol, we can find with higher alcohol percentage,
the counts of wines are decreasing. Alcohol with about 9% have most counts and 
the data is left skewed.

```{r echo=FALSE, warning = FALSE, message=FALSE, fixed.acidity }
ggplot(aes(x = fixed.acidity), data = wine) + geom_histogram()

```

Let's take a look at the fixed acidity. We can find the most of wines has fixed
acidity between 6 and 8 g/dm^3. 

```{r echo=FALSE, warning = FALSE, message=FALSE, total.sulfur.dioxide}
ggplot(aes(x = total.sulfur.dioxide), data = wine) + geom_histogram()

```

The above histogram is the count of total sulfur dioxide. We can find most of 
wines have total sulfur dioxide between 100 and 200 mg/dm^3.

```{r echo=FALSE, warning = FALSE, message=FALSE, pH}
ggplot(aes(x = pH), data = wine) + geom_histogram()

```

This histogram shows the counts for wines with different pH. Most of wines have
pH around 3.0 and 3.3. 

```{r echo=FALSE, warning = FALSE, message=FALSE, residual.sugar}
ggplot(aes(x = residual.sugar), data = wine) + geom_histogram(binwidth = .5) +
        xlim(0, quantile(wine$residual.sugar, .975))

```

This histogram shows the counts for wines with residual sugar, we can find most
wines have residual sugar under 2.5 g/dm^3.

Last, let's plot the histograms for every variable in the data under same plot.
```{r echo=FALSE, warning = FALSE, message=FALSE, Quality}
meltWine <- melt(wine[2:13])

ggplot(meltWine, aes(x = value)) + 
    facet_wrap(~variable, scales = "free") + 
    geom_histogram()

```

## Univariate Analysis

#### What is the structure of your dataset?
There are 4898 observations and 13 variables in this dataset. Among the 
vaiables, X is the index of the wines and quality is the rating for each wine,
and their data type is int. The quality is dependent on all the other variables,
which are properties of the wines and they have float data type. 

#### What is/are the main feature(s) of interest in your dataset?
In this dataset, I'm interested in the relations between pH, alcohol and 
quality. I would like to explore if there is any strong relationship between 
them.

#### What other features in the dataset do you think will help support your \
investigation into your feature(s) of interest?
Density, volatile acidity and free sulfur dioxide may also support my 
investigation.

#### Did you create any new variables from existing variables in the dataset?
I didn't create any new vaiables by far since I'm not familar with all the 
chemicals. For different chemicals, the standards of high or low is unclear.

#### Of the features you investigated, were there any unusual distributions? \
Did you perform any operations on the data to tidy, adjust, or change the form \
of the data? If so, why did you do this?
Some data are skewed to the left and some are normally distributed, there is no
noticable or unusual distributions in the dataset.

## Bivariate Plots Section

In this part, let's take a look at some bivariate plots and try my interests
on some variables of this dataset.
```{r echo=FALSE, warning = FALSE, message=FALSE, pH_vs_alcohol}
ggplot(aes(x = pH, y = alcohol), data = wine) + 
        geom_point(alpha = 0.25, 
                   position = position_jitter(h = 0),
                   color = 'orange') +
        stat_smooth(method = "lm", formula = y ~ x)

```

The above graph is the scatter plot of pH vs. alcohol. In this graph, we didn't
see any strong relationship between pH and alcohol.

```{r echo=FALSE, warning = FALSE, message=FALSE, resiual.sugar_vs_pH}
ggplot(aes(x = residual.sugar, y = pH), data = wine) + 
        xlim(0, quantile(wine$residual.sugar, 0.99)) + 
        geom_point(alpha = 0.25, 
                   position = position_jitter(h = 0),
                   color = 'orange') +
        stat_smooth(method = "lm", formula = y ~ x)

```

The above graph is the scatter plot of residual.sugar vs. pH. In this graph, we didn't
see any strong relationship between residual.sugar and pH.

Density, volatile acidity and free sulfur dioxide may also support my 
investigation. pH, alcohol and quality

```{r echo=FALSE, warning = FALSE, message=FALSE, volatile.acidity_vs_pH}
ggplot(aes(x = volatile.acidity, y = pH), data = wine) + 
        xlim(0, quantile(wine$volatile.acidity, 0.99)) + 
        geom_point(alpha = 0.25, 
                   position = position_jitter(h = 0),
                   color = 'orange') +
        stat_smooth(method = "lm", formula = y ~ x)

```

Above is the scatter plot of volatile.acidity vs. pH. My assumption is volatile 
acidity will affect pH, but from the scatter plot above we didn't see a strong
relationship between each other.

```{r echo=FALSE, warning = FALSE, message=FALSE, total.sulfur.dioxide_vs_density}
ggplot(aes(x = total.sulfur.dioxide, y = density), data = wine) + 
        xlim(quantile(wine$total.sulfur.dioxide, 0.01), quantile(wine$total.sulfur.dioxide, 0.99)) + 
        ylim(quantile(wine$density, 0.01), quantile(wine$density, 0.99)) + 
        geom_point(alpha = 0.25, 
                   position = position_jitter(h = 0),
                   color = 'orange') +
        stat_smooth(method = "lm", formula = y ~ x)
```

The above plot is total.sulfur.dioxide vs density. We can find with more sulfur
dioxide, the density of wine increases.

```{r echo=FALSE, warning = FALSE, message=FALSE, alcohol_vs_density}
ggplot(aes(x = alcohol, y = density), data = wine) + 
        xlim(quantile(wine$alcohol, 0.01), quantile(wine$alcohol, 0.99)) + 
        ylim(quantile(wine$density, 0.01), quantile(wine$density, 0.99)) + 
        geom_point(alpha = 0.25, 
                   position = position_jitter(h = 0),
                   color = 'orange') +
        stat_smooth(method = "lm", formula = y ~ x)

```

Let's take a look at the alcohol vs. density. We can find with the increase on 
alcohol, the density of the wine drops.

```{r echo=FALSE, warning = FALSE, message=FALSE, pH_vs_density}
ggplot(aes(x = pH, y = density), data = wine) + 
        xlim(quantile(wine$pH, 0.01), quantile(wine$pH, 0.99)) + 
        ylim(quantile(wine$density, 0.01), quantile(wine$density, 0.99)) + 
        geom_point(alpha = 0.25, 
                   position = position_jitter(h = 0),
                   color = 'orange') +
        stat_smooth(method = "lm", formula = y ~ x)

```

We can find with the plot of pH vs. density, there is no strong relationship
between pH and density.

## Bivariate Analysis

#### Talk about some of the relationships you observed in this part of the \
investigation. How did the feature(s) of interest vary with other features in \
the dataset?
From the investigation above, we can find there is no strong relationship 
for pH vs alcohol, residual.sugar vs pH, volatile vs pH, ph vs density. There 
is a strong linear relationship for total.sulfur.dioxide vs density and alcohol
vs density.

#### Did you observe any interesting relationships between the other features \
(not the main feature(s) of interest)?
Yes, at the beginning I didn't have much interests on density but we can find
alcohol and total.sulfur.dioxide will affect density. 

#### What was the strongest relationship you found?
The strongest relationship is between alcohol and density. With more alcohol in 
wines, the density drops.

## Multivariate Plots Section

> **Tip**: Now it's time to put everything together. Based on what you found in
the bivariate plots section, create a few multivariate plots to investigate
more complex interactions between variables. Make sure that the plots that you
create here are justified by the plots you explored in the previous section. If
you plan on creating any mathematical models, this is the section where you
will do that.

```{r echo=FALSE, Multivariate_Plots}
ggplot(wine, aes(x=pH, y=sulphates, size = alcohol, 
                 color=factor(quality))) + 
  geom_point() + 
  scale_color_brewer()

```

```{r echo=FALSE}
ggplot(wine, aes(x=pH, y=density, size = alcohol, 
                 color=factor(quality))) + 
  geom_point() + 
  scale_color_brewer()

```

```{r echo=FALSE}
ggplot(wine, aes(x=pH, y=alcohol, size = alcohol, 
                 color=factor(quality))) + 
  geom_point() + 
  scale_color_brewer()

```

```{r echo=FALSE}
ggplot(wine, aes(x=fixed.acidity, y=alcohol, size = alcohol, 
                 color=factor(quality))) + 
  geom_point() + 
  scale_color_brewer()

```

# Multivariate Analysis

### Talk about some of the relationships you observed in this part of the \
investigation. Were there features that strengthened each other in terms of \
looking at your feature(s) of interest?

### Were there any interesting or surprising interactions between features?

### OPTIONAL: Did you create any models with your dataset? Discuss the \
strengths and limitations of your model.


------

# Final Plots and Summary

> **Tip**: You've done a lot of exploration and have built up an understanding
of the structure of and relationships between the variables in your dataset.
Here, you will select three plots from all of your previous exploration to
present here as a summary of some of your most interesting findings. Make sure
that you have refined your selected plots for good titling, axis labels (with
units), and good aesthetic choices (e.g. color, transparency). After each plot,
make sure you justify why you chose each plot by describing what it shows.

### Plot One
```{r echo=FALSE, Plot_One}

```

### Description One


### Plot Two
```{r echo=FALSE, Plot_Two}

```

### Description Two


### Plot Three
```{r echo=FALSE, Plot_Three}

```

### Description Three

------

# Reflection

> **Tip**: Here's the final step! Reflect on the exploration you performed and
the insights you found. What were some of the struggles that you went through?
What went well? What was surprising? Make sure you include an insight into
future work that could be done with the dataset.